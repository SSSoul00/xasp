<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <title>X+约课系统 - 添加会员卡</title>
    <meta name="keywords" content="后台bootstrap框架,会员中心主题,后台HTML,响应式后台">
    <meta name="description" content="完全响应式，基于Bootstrap3最新版本开发的扁平化主题，她采用了主流的左右两栏式布局，使用了Html5+CSS3等现代技术">

	<link rel="shortcut icon" href="../../static/favicon.ico" th:href="@{/static/favicon.ico}">
    <link href="../../static/css/bootstrap.min.css?v=3.3.6" th:href="@{/static/css/bootstrap.min.css(v='3.3.6')}" rel="stylesheet">
    <link href="../../static/css/font-awesome.css?v=4.4.0" th:href="@{/static/css/font-awesome.css(v='4.4.0')}" rel="stylesheet">
    <link href="../../static/css/animate.css" th:href="@{/static/css/animate.css}" rel="stylesheet">
    <link href="../../static/css/style.css?v=4.1.0" th:href="@{/static/css/style.css(v='4.1.0')}" rel="stylesheet">

    <link href="../../static/css/plugins/iCheck/custom.css" th:href="@{/static/css/plugins/iCheck/custom.css}" rel="stylesheet">
    <!-- Data Tables -->
    <link href="../../static/css/plugins/dataTables/dataTables.bootstrap.css" th:href="@{/static/css/plugins/dataTables/dataTables.bootstrap.css}" rel="stylesheet">

    <style type="text/css">
        .margin_top {
            margin-top: 35px;
        }

        .margin_buttom {
            margin-bottom: 35px;
        }

        .input_margin_top {
            margin-top: 20px;
        }

        .input_width {
            width: 50px;
            display: inline;
        }

        .btn_margin_top {
            margin-top: -25px;
        }

        table.dataTable thead .sorting,
        table.dataTable thead .sorting_asc,
        table.dataTable thead .sorting_desc {
            background-image: none;
        }

        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button {

            -webkit-appearance: none !important;

        }

        /* chrome */

        input[type="number"] {

            -moz-appearance: textfield; /* firefox */

        }
    </style>
</head>

<body class="gray-bg">
<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
        <div class="col-sm-12">
            <form class="form-horizontal" th:action="@{/card/cardAdd.do}" id="addForm">
                <div style="background-color: #FFFFFF;">
                    <div class="form-group">
                        <label for="inputCardName"
                               class="col-sm-2 control-label margin_top"><span
                                style="color: red">*&nbsp;</span>会员卡名称</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control margin_top" id="inputCardName" placeholder="会员卡名称" name="name"
                                   required>
                            <span class="text-danger">[[${NAME_EXIST}]]</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="inputCardPrice" class="col-sm-2 control-label input_margin_top"><span
                                style="color: red">*&nbsp;</span>价格</label>
                        <div class="col-md-2">
                            <!--  <input type="number" class="form-control input_margin_top" id="inputCardPrice"-->
                            <!--    placeholder="价格" min="0"-->
                            <!--    required>-->
                            <div class="input-group input_margin_top">
                                <div class="input-group-addon">￥</div>
                                <input type="number" class="form-control" placeholder="价格" id="inputCardPrice" min="0" name="price">
                                <div class="input-group-addon">元</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="inputCardDescribe" class="col-sm-2 control-label input_margin_top">描述信息</label>
                        <div class="col-sm-8">
                            <textarea  class="form-control input_margin_top" name="description"
                                      id="inputCardDescribe"></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="inputCardRemark" class="col-sm-2 control-label input_margin_top">备注信息</label>
                        <div class="col-sm-8">
                            <textarea  class="form-control input_margin_top margin_buttom" name="note"
                                      id="inputCardRemark"></textarea>
                        </div>
                    </div>
                </div>
                <div style="background-color: #FFFFFF;">
                    <div class="form-group">
                        <div class="margin_top">
                            <label for="member_card_type" class="col-sm-2 control-label ">会员卡类型</label>
                            <div class="col-sm-8">
                                <div class="input-group">
                                    <input type="text" class="form-control " id="test_data" name="type">
                                    <div class="input-group-btn ">
                                        <button type="button" class="btn btn-white dropdown-toggle "
                                                id="member_card_type"
                                                data-toggle="dropdown">
                                            <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu dropdown-menu-right " role="menu">
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="useTimes" class="col-sm-2 control-label input_margin_top"><span
                                style="color: red">*&nbsp;</span>可用次数</label>
                        <div class="col-sm-2">
                            <input type="number" class="form-control input_margin_top" id="useTimes" name="totalCount"
                                   placeholder="可用次数" min="0"
                                   required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="useDays" class="col-sm-2 control-label input_margin_top"><span
                                style="color: red">*&nbsp;</span>可用天数</label>
                        <div class="col-sm-2">
                            <input type="number" class="form-control input_margin_top" id="useDays" name="totalDay"
                                   placeholder="可用天数" min="0"
                                   required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="support_program" class="col-sm-2 control-label input_margin_top">支持课程</label>
                        <div class="col-sm-8 input_margin_top">
                            <table class="table table-striped table-bordered table-hover dataTables-example"
                                   id="support_program">
                                <thead>
                                <tr>
                                    <th><input type="checkbox" name="courseListStr" id="check_all" class="i-checks"></th>
                                    <th class="col-sm-7">课程</th>
                                    <th>收费情况(次卡)</th>
                                </tr>
                                </thead>
                            </table>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-10 margin_buttom btn_margin_top">
                            <button type="submit" class="btn btn-success" id="saveBtn">保存</button>
                            <a href="x_member_card.html" type="button" class="btn btn-default">取消</a>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- 全局js -->
<script src="../../static/js/jquery.min.js?v=2.1.4" th:src="@{/static/js/jquery.min.js(v='2.1.4')}"></script>
<script src="../../static/js/bootstrap.min.js?v=3.3.6" th:src="@{/static/js/bootstrap.min.js(v='3.3.6')}"></script>

<!-- 自定义js -->
<script src="../../static/js/content.js?v=1.0.0" th:src="@{/static/js/content.js(v='1.0.0')}"></script>
<!-- Data Tables -->
<script src="../../static/js/plugins/dataTables/jquery.dataTables.js" th:src="@{/static/js/plugins/dataTables/jquery.dataTables.js}"></script>
<script src="../../static/js/plugins/dataTables/dataTables.bootstrap.js" th:src="@{/static/js/plugins/dataTables/dataTables.bootstrap.js}"></script>
<!--suggest-->
<script src="../../static/js/plugins/suggest/bootstrap-suggest.min.js" th:src="@{/static/js/plugins/suggest/bootstrap-suggest.min.js}"></script>
<!-- iCheck -->
<script src="../../static/js/plugins/iCheck/icheck.min.js" th:src="@{/static/js/plugins/iCheck/icheck.min.js}"></script>
<script>
    $(function () {
    	$("#saveBtn").on("mouseenter",function(){
    		var addForm = $("#addForm").serialize();
    		console.log(addForm);
    	});
    	
    	
    	//获取所有的课程数据
    	$.post("/xsap/course/courseList.do",function(courseData){
    		console.log(courseData);
    		$('.dataTables-example').dataTable({
    			//获取数据
                /*TODO:此处为未来与后端进行交互的地方*/
                "data": courseData,
                //行的定义
                "columns": [
                    {
                        "data": "id", "render": function (data, type, row) {
                        	/* 参数说明
                        		data: 拿到的是左边指明的"data"的字段对应的全部值
                        		row: 拿到的是dataTable的"data"属性获取到的每一行值
                        	*/
                            var id = data;
                            var html = "<input type='checkbox' name='courseListStr' class='i-checks' id='check_all' value='"+id+"'>";
                            return html;
                        },bAutoWidth: "false", sWidth: "1%"
                    },
                    {"data": "name", sWidth: "15%"},
                    {
                        "data": "timesCost", "render": function (data, type, row) {
                            var html = "<span class='pie'>每节课收取&nbsp;<input type='text' class='form-control input-sm' value='" + data + "'>次/人</span>";
                            return html;
                        }, sWidth: "15%"
                    }
                ],
                language: {
                    "emptyTable": "没有数据哟~~",//没有数据时要显示的字符串
                    "loadingRecords": "加载中...",//用来描述数据在加载中等待的提示字符串 - 当异步读取数据的时候显示
                    "processing": "处理中...",//用来描述加载进度的字符串
                    "sInfo": "",// 这样就可以隐藏了
                },
                searching: false,//是否开始本地搜索
                paging: false,
                lengthChange: false,//是否允许用户改变表格每页显示的记录数
                columnDefs: [{
                    targets: 0,//编辑取消排序
                    "orderable": false
                }]
            });
    	});
        
    })
</script>
<script type="text/javascript">
    //data 数据中获取
    var testdataBsSuggest = $("#test_data").bsSuggest({
        indexId: 2, //data.value 的第几个数据，作为input输入框的内容
        indexKey: 1, //data.value 的第几个数据，作为input输入框的内容
        data: {
            'value': [
                {
                    'id': '0',
                    'card_type': '次卡(有期限)'
                },
                {
                    'id': '1',
                    'word': '次卡(无期限)'
                }
            ],
            'defaults': '次卡(有期限)'
        },
    });
</script>
<script>
    $(document).ready(function () {
        $('.i-checks').iCheck({
            checkboxClass: 'icheckbox_square-green',
            radioClass: 'iradio_square-green',
        });
        //复选框 全选
        $('#check_all').on('ifChecked', function (event) {
            $('input').iCheck('check');
        });
        //复选框 反选
        $('#check_all').on('ifUnchecked', function (event) {
            $('input').iCheck('uncheck');
        });
    });
</script>
</body>
</html>
